# NJU9101 Example 2-1 for mbed

[![Build Status](https://travis-ci.org/NewJapanRadio/NJU9101_Example2-1_mbed.svg?branch=master)](https://travis-ci.org/NewJapanRadio/NJU9101_Example2-1_mbed)

## Flowchart

![](http://g.gravizo.com/g?%20digraph%20G%20{%20graph%20[ranksep=0.4]%20node%20[shape=none]%20OSC_RUN%20node%20[shape=point]%20OSC_STOP%20node%20[shape=ellipse]%20START%20node%20[shape=diamond]%20WAIT_BOOT%20WAIT_CLKRUN%20WAIT_MEAS%20node%20[shape=box]%20INIT%20[label="mbed%20setup\nInitialize%20Serial%20Port"]%20RESET%20[label="Chip%20Reset\nCTRL.RST%20=%201"]%20WAIT_BOOT%20[label="Wait%20for%20Boot\nSTATUS.BOOT%20==%201"]%20WAKEUP_OSC%20[label="Wakeup%20OSC\nBLKCTRL.OSC%20=%201"]%20WAIT_CLKRUN%20[label="Wait%20for%20OSC\nSTATUS.CLKRUN%20==%201"]%20WAIT_MEAS%20[label="Wait%20for%20End%20of%20Conversion\nCTRL.MEAS%20==%200"]%20MEAS_LOOP_HEAD%20[label="Start%20of%20Measurement"%20shape=house]%20START_MEAS%20[label="Start%20Single%20Conversion"]%20MEAS_LOOP_TAIL%20[label="End%20of%20Measurement"%20shape=invhouse]%20READ_ADC_DATA%20[label="Read%20AMPDATA"]%20RESULT%20[label="Display%20AMPDATA"%20shape=parallelogram]%20CORRECTION_EFFICIENT%20[label="Correction%20Coefficent%20Setting"]%20CONFIGURATION%20[label="Register%20Configuration"]%20COEFF0%20[label="SCAL1B%20=%200x2AAB"]%20COEFF1%20[label="SCAL2B%20=%200x2AAB"]%20COEFF2%20[label="SCAL3B%20=%200x2AAB"]%20COEFF3%20[label="SCAL4B%20=%200x2AAB"]%20CONF0%20[label="BLKCONN0.BIASSWA%20=%201\nBLKCONN0.BIASSWB%20=%201"]%20CONF1%20[label="BLKCONN1.OPA_BIAS%20=%20any\nBLKCONN1.OPB_BIAS%20=%20any"]%20CONF2%20[label="BLKCONN2.BIASSWN%20=%201\nBLKCONN2.PAMPSEL%20=%201"]%20CONF3%20[label="BLKCTRL.BIAS_RES%20=%201\nBLKCTRL.OPA%20=%201\nBLKCTRL.OPB%20=%201\nBLKCTRL.OSC%20=%200"]%20CONCAT_AMPDATA%20[label="AMPDATA0%20<<%208\n+AMPDATA1"]%20OSC_RUN%20[label="OSC%20is%20needed\nfor%20writing%20to%20configuration%20registers"]%20OSC_STOP%20[label=""]%20START->INIT->RESET%20RESET->WAIT_BOOT%20[headport=n]%20WAIT_BOOT->WAIT_BOOT%20[label="no"%20tailport=e%20headport=n]%20WAIT_BOOT->WAKEUP_OSC%20[label="yes"%20tailport=s%20headport=n]%20WAKEUP_OSC->WAIT_CLKRUN%20WAIT_CLKRUN->WAIT_CLKRUN%20[label="no"%20tailport=e%20headport=n]%20WAIT_CLKRUN->CORRECTION_EFFICIENT%20[label="yes"%20tailport=s%20headport=n]%20CORRECTION_EFFICIENT->CONFIGURATION->MEAS_LOOP_HEAD%20MEAS_LOOP_HEAD->START_MEAS%20[weight=5]%20START_MEAS->WAIT_MEAS%20[weight=5]%20WAIT_MEAS->WAIT_MEAS%20[label="no"%20tailport=e%20headport=n%20label="no"]%20WAIT_MEAS->READ_ADC_DATA%20[label="yes"%20tailport=s%20headport=n%20weight=5]%20READ_ADC_DATA->RESULT%20[weight=5]%20RESULT->MEAS_LOOP_TAIL%20[weight=5]%20MEAS_LOOP_TAIL->MEAS_LOOP_HEAD%20[tailport=s%20headport=n]%20CORRECTION_EFFICIENT->COEFF0%20[arrowhead=none%20style=dashed%20tailports=e%20headports=w]%20COEFF0->COEFF1->COEFF2->COEFF3%20[weight=3]%20{rank=same;CORRECTION_EFFICIENT;COEFF0}%20CONFIGURATION->CONF0%20[arrowhead=none%20style=dashed%20tailports=e%20headports=w]%20CONF0->CONF1->CONF2->CONF3%20[weight=3]%20{rank=same;CONFIGURATION;CONF0}%20READ_ADC_DATA->CONCAT_AMPDATA%20[arrowhead=none%20style=dashed%20tailports=e%20headports=w]%20{rank=same;READ_ADC_DATA;CONCAT_AMPDATA}%20OSC_RUN->OSC_STOP%20{rank=same;OSC_RUN;WAKEUP_OSC}%20{rank=same;OSC_STOP;CONFIGURATION}%20}%20)
